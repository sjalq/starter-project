At the start of each session, make sure you read the .cursor/*.mdc files so you know how to operate this project. Please note, you can do compiler checks with ./compile.sh

**IMPORTANT**: Always use `http://localhost:8000` instead of `http://0.0.0.0:8000` when accessing the Lamdera development server. The 0.0.0.0 binding is for the server to listen on all interfaces, but clients should connect via localhost.

## IMPORTANT: Do NOT Modify Generated Code

**NEVER edit, modify, or "fix" files in the `generated/` directory.** These files are automatically generated by the build system and will be overwritten on the next compile.

If you need to change generated code:
1. Modify the source files (with `@rpc` annotations)
2. Update the code generator (`codegen/Generate.elm` or `codegen/scan-rpc-endpoints.js`)
3. Run `./compile.sh` to regenerate

## Property-Based Testing

This Lamdera project uses property-based tests with elm-explorations/test. Since Lamdera uses lamdera/codecs which is incompatible with standard elm-test, you must use the Lamdera compiler.

### Running Tests

```bash
cd tests
elm-test --compiler lamdera
```

This tells elm-test to use the lamdera compiler instead of the standard elm compiler, allowing it to properly compile lamdera/codecs and other Lamdera-specific packages.

### Test Structure

Tests should be organized in `tests/tests/` directory:

```elm
module Tests exposing (..)

import Test exposing (Test)
import YourTestModule

suite : Test
suite =
    Test.describe "All Tests"
        [ YourTestModule.suite
        ]
```

### elm.json Configuration

The `tests/elm.json` must include:
- `"type": "application"` (not "package")
- Source directories: `["../src", "../auth/src", "tests"]`
- All dependencies from main elm.json
- `"elm-explorations/test": "2.2.0"` in direct dependencies

### Example Property-Based Test

```elm
module ExampleTests exposing (..)

import Expect
import Fuzz exposing (Fuzzer)
import Test exposing (..)

suite : Test
suite =
    describe "Example Property Tests"
        [ fuzz Fuzz.int "reversing twice returns original" <|
            \num ->
                num
                    |> negate
                    |> negate
                    |> Expect.equal num
        ]
```

## RPC Endpoint Conventions

### Creating RPC Endpoints

To create an RPC endpoint, add the `@rpc` annotation above your function:

```elm
{-| @rpc
Calculate the sum of two numbers
-}
calculateSum : SessionId -> BackendModel -> SumRequest -> ( Result String SumResponse, BackendModel, Cmd BackendMsg )
calculateSum sessionId model request =
    ( Ok { result = request.a + request.b }
    , model
    , Cmd.none
    )
```

**Requirements:**
- Function signature MUST be: `SessionId -> BackendModel -> YourParams... -> ( Result String YourOutput, BackendModel, Cmd BackendMsg )`
- Add `{-| @rpc -}` comment directly above the type signature
- The function will be auto-discovered during compilation

### Endpoint Naming

Endpoints are automatically named as `Module_functionName`:

- `Endpoints.Example.calculateSum` → `Endpoints_Example_calculateSum`
- `Bonkers.Cool.findMyStuff` → `Bonkers_Cool_findMyStuff`

### URL Structure

All RPC endpoints are available at `/_r/{endpointName}`:

- `/_r/Endpoints_Example_calculateSum`
- `/_r/Bonkers_Cool_findMyStuff`

**IMPORTANT: Endpoints are only ONE level deep.** Do not nest under additional paths.